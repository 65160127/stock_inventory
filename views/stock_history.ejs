<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>ประวัติสต็อก | Stock Inventory</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-slate-50 flex h-screen overflow-hidden">
    <%- include('partials/header') %>
    <main class="flex-1 p-8 overflow-y-auto">
        <header class="mb-8">
            <h2 class="text-3xl font-bold text-slate-800">ประวัติความเคลื่อนไหว</h2>
            <p class="text-slate-400">ตรวจสอบรายการย้อนหลังรายวัน รายสัปดาห์ และรายเดือน</p>
        </header>

        <div class="mb-6 bg-white p-4 rounded-2xl border shadow-sm flex gap-4 items-center">
            <span class="text-sm font-bold text-slate-500">ตัวกรองเวลา:</span>
            <div class="flex bg-slate-100 p-1 rounded-xl gap-1">
                <button onclick="loadHistory('all')" class="filter-btn" data-filter="all">ทั้งหมด</button>
                <button onclick="loadHistory('today')" class="filter-btn" data-filter="today">วันนี้</button>
                <button onclick="loadHistory('7days')" class="filter-btn" data-filter="7days">7 วันล่าสุด</button>
                <button onclick="loadHistory('month')" class="filter-btn" data-filter="month">เดือนนี้</button>
            </div>
        </div>

        <div class="bg-white rounded-3xl border shadow-sm overflow-hidden">
            <table class="w-full text-left border-collapse">
                <thead class="bg-slate-50 border-b text-sm font-bold text-slate-600">
                    <tr>
                        <th class="p-4">วัน-เวลา</th>
                        <th class="p-4">รหัสสินค้า</th>
                        <th class="p-4">ประเภท</th>
                        <th class="p-4 text-right">จำนวน</th>
                    </tr>
                </thead>
                <tbody id="historyBody" class="text-sm"></tbody>
            </table>
        </div>
    </main>
    <script src="/js/history.js"></script>
</body>
</html>